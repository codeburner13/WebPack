.container
  .columns
    .column
      h4.title.is-3
        | Chunk id
      h5.subtitle
        = id

    .column
      h4.title.is-3
        | Size
      h5.subtitle
        = require('formatSize').default(chunk.size)

    .column
      h4.title.is-3
        | Names
      each name in chunk.names
        code
          = name

  .columns
    if chunk.parents.length && chunk.children.length
      .column
        h4.title.is-3
          | Parents
        each parent in chunk.parents
          a.button.is-info(href="#chunk/#{parent}")
            = parent

      .column
        h4.title.is-3
          | Children
        each child in chunk.children
          a.button.is-info(href="#chunk/#{child}")
            = child

    else if chunk.parents.length
      .column
        h4.title.is-3
          | Parents
        each parent in chunk.parents
          a.button.is-info(href="#chunk/#{parent}")
            = parent

    else if chunk.children.length
      .column
        h4.title.is-3
          | Children
        each child in chunk.children
          a.button.is-info(href="#chunk/#{child}")
            = child

  .columns
    .column
      h4.title.is-3
        | Files
      each file in chunk.files
        a.button.is-default(href="#assets")
          = file

  .columns
    .column
      h4.title.is-3
        | Origins

      table.table.is-fullwidth
        thead
          tr
            th reasons
            th name
            th(colspan="2") module
            th location

          tbody
            each origin in chunk.origins
              tr
                td
                  each reason in origin.reasons
                    code
                      = reason
                td: code
                  = origin.name
                td
                  if typeof origin.moduleUid === 'number'
                    a.button.is-success(href="#module/#{origin.moduleUid}")
                      = origin.moduleId
                  else
                    span.button.is-success
                      = origin.moduleId
                td: pre: code
                  = origin.moduleName.split('!').join('\n')
                td
                  if origin.loc
                    code
                      = origin.loc

  if chunk.modules && chunk.modules.length > 0
    .columns
      .column
        h4.title.is-3
          | Modules

        table.table.is-fullwidth
          thead
            tr
              th id
              th name
              th size
              th chunks
              th flags

            tbody
              each module in chunk.modules
                tr
                  td
                    if typeof module.uid === 'number'
                      a.button.is-success(href="#module/#{module.uid}")
                        = module.id
                    else
                      span.button.is-success
                        = module.id
                  td: pre: code
                    = module.name.split('!').join('\n')
                  td
                    = require('formatSize').default(module.size)
                  td
                    each chunk in module.chunks
                      a.button.is-info(href="#chunk/#{chunk}")
                        = chunk
                  td
                    if module.built
                      span.tag.is-success
                        | built
                    if !module.cacheable
                      span.tag.is-warning
                        | not cacheable
                    if module.prefetched
                      span.tag.is-success
                        | prefetched
                    if module.failed
                      span.tag.is-danger
                        | failed
                    if module.warnings
                      span.tag.is-warning
                        = module.warnings + ' warnings'
                    if module.errors
                      span.tag.is-danger
                        = module.errors + ' errors'
